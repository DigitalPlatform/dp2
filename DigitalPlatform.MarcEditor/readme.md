# MARC 编辑器

## 事件

System.Windows.Forms.Control.TextChanged
当文本发生修改时，此事件被触发

(参考：Changed 属性)

## 编辑键

### 回车

到下一字段内容区第一字符

### Ctrl+回车

插入一个新字段(弹出插入字段对话框)

### Shift+Delete

删除当前插入符所在的子字段

### Shift+左右方向键

定义文字块

### Ctrl+左右方向键

顺次定义前一个/后一个子字段为文字块

### Ctrl+上下方向键

定义一个或连续的多个字段为文字块

### Ctrl+A

辅助创建数据功能。弹出创建数据上下文菜单

### Ctrl+B

定义当前子字段为文字块。功能不断在两种状态之间切换：定义整个子字段为文字块(也就是说包括字段名两字符)/定义子字段的内容为文字块

### Ctrl+D

触发删除拼音

### Ctrl+Z

撤销最后一次编辑操作。可以多次撤销。这是利用了编辑历史机制。

### Ctrl+Y

重做。指在当前编辑历史位置，向后执行一个编辑操作。可以多次重做。

### Ctrl+X

剪切。将当前文字块复制到 Windows 剪贴板，并删除文字块内容。
注: 这是“软剪切”。当字段名、字段指示符中的部分文字被删除，会造成其它部分的文字补入这些删除位置的尴尬情况。软剪切在这些位置自动补充 Padding 字符，确保编辑操作后这些部分的内容的字符数不会发生变化。

### Ctrl+C

复制。将当前文字块复制到 Windows 剪贴板，但并不删除文字块内容。

### Ctrl+V

粘贴。从 Windows 剪贴板中取得文字，插入当前插入符位置，或者替换当前文字块内容。
注: 这是“软粘贴”。当字段名、字段指示符中的部分文字被替换变短时，会造成其它部分的文字补入这些删除位置的尴尬情况。软粘贴在发生字符不足时，会自动补充 Padding 字符。

参考: “原始剪切” “原始粘贴”

### Ctrl+I

插入一个子字段符号(并且自动把汉字输入法关闭，便于继续输入字母)。

### Ctrl+M

定长编辑模板。

### Ctrl+Q

整理字段顺序

### Ctrl+S

触发加拼音

### Ctrl+U

触发校验数据。

### Delete

在字段名和字段指示符区使用键盘 Delete 键，可以删除插入符所在的当前字段。会弹出一个对话框提醒警告，确认后再删除。
在字段内容区则是删除当前字符。

### Home

到字段开头

### End

到字段结尾

### Ctrl+Home

到所有文本最开头

### Ctrl+End

到所有文本末尾

### PageDown

下一页

### PageUp

上一页

### Ctrl+K,L

简转繁

### Ctrl+K,J

繁转简


## 鼠标功能

### 右键

弹出上下文菜单。
注: 右键点击并不会改变插入符位置和块定义。如果要到一个新位置点开和这个位置有关的上下文菜单，需要先在这个位置左键点一下(这时插入符位置会到这里)，然后再点右键弹出上下文菜单。

### 左键拖动

如果是在提示区，为定义一个或多个完整的字段为文字块；
如果是在字段名、字段指示符、内容区，为定义文字块。

如果已经定义了一个文字块，在文字块内点鼠标左键并拖动，功能是移动这个块到拖动后放开的目标位置。
如果拖动结束时放开左键之前，按住 Ctrl 键不要放开，然后放开鼠标左键结束拖动，这时的功能是复制块中文字到目标位置。

### 左键双击

定义当前子字段为文字块。功能不断在两种状态之间切换：定义整个子字段为文字块(也就是说包括字段名两字符)/定义子字段的内容为文字块

